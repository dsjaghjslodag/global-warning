import discord
from discord.ext import commands
import requests
import pandas as pd
from bs4 import BeautifulSoup
import random
import asyncio
import random

intents = discord.Intents.all()
bot = commands.Bot(command_prefix="!", intents=intents)

@bot.event
async def on_ready():
    print('–Ø –≥–æ—Ç–æ–≤!')

@bot.command()
async def start(ctx):
    await ctx.send('–ü—Ä–∏–≤–µ—Ç!')

@bot.command()
async def calc(ctx):
    await ctx.send("–°–∫–æ–ª—å–∫–æ –∫–í—Ç—á —ç–ª–µ–∫—Ç—Ä–æ—ç–Ω–µ—Ä–≥–∏–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –≤ –º–µ—Å—è—Ü?")
    def check(m):
        return m.author == ctx.author and m.channel == ctx.channel
    try:
        electricity_msg = await bot.wait_for('message', check=check)
        electricity = float(electricity_msg.content)

        await ctx.send("–°–∫–æ–ª—å–∫–æ –º¬≥ –≥–∞–∑–∞ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –≤ –º–µ—Å—è—Ü?")
        gas_msg = await bot.wait_for('message', check=check)
        gas = float(gas_msg.content)

        await ctx.send("–°–∫–æ–ª—å–∫–æ –∫–∏–ª–æ–º–µ—Ç—Ä–æ–≤ –≤—ã –ø—Ä–æ–µ–∑–∂–∞–µ—Ç–µ –Ω–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ –≤ –º–µ—Å—è—Ü?")
        distance_msg = await bot.wait_for('message', check=check)
        distance = float(distance_msg.content)

        footprint = (electricity * 0.5) + (gas * 1.8) + (distance * 0.2)
        await ctx.send(f"–í–∞—à —É–≥–ª–µ—Ä–æ–¥–Ω—ã–π —Å–ª–µ–¥ –≤ –º–µ—Å—è—Ü —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç: {footprint} –∫–≥ CO2.")
    except:
        ctx.send("–û—à–∏–±–∫–∞")

@bot.command()
async def sov(ctx):
    sovets = (
        '''1. –°–æ–∫—Ä–∞—â–∞–π—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–ª–∞—Å—Ç–∏–∫–æ–≤—ã—Ö –∏–∑–¥–µ–ª–∏–π. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–Ω–æ–≥–æ—Ä–∞–∑–æ–≤—ã–µ —Å—É–º–∫–∏ –∏ –±—É—Ç—ã–ª–∫–∏.
        2. –°–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –º—É—Å–æ—Ä –∏ —É—Ç–∏–ª–∏–∑–∏—Ä—É–π—Ç–µ –æ—Ç—Ö–æ–¥—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ.
        3. –ü–æ–ª—å–∑—É–π—Ç–µ—Å—å –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–º —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–æ–º, –≤–µ–ª–æ—Å–∏–ø–µ–¥–æ–º –∏–ª–∏ —Ö–æ–¥–∏—Ç–µ –ø–µ—à–∫–æ–º –≤–º–µ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∞–≤—Ç–æ–º–æ–±–∏–ª—è.
        4. –≠–∫–æ–Ω–æ–º—å—Ç–µ –≤–æ–¥—É, –Ω–µ –æ—Å—Ç–∞–≤–ª—è–π—Ç–µ –∫—Ä–∞–Ω—ã –æ—Ç–∫—Ä—ã—Ç—ã–º–∏ –∏ –ø—Ä–∏–Ω–∏–º–∞–π—Ç–µ –∫–æ—Ä–æ—Ç–∫–∏–µ –¥—É—à–∏.
        5. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ –º–µ—Å—Ç–Ω—ã—Ö –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–µ–π –∏ –ø–æ–∫—É–ø–∞–π—Ç–µ –æ—Ä–≥–∞–Ω–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–¥—É–∫—Ç—ã.
        6. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç–Ω–µ—Ä–≥–æ—Å–±–µ—Ä–µ–≥–∞—é—â–∏–µ –ª–∞–º–ø–æ—á–∫–∏ –∏ –æ—Ç–∫–ª—é—á–∞–π—Ç–µ —ç–ª–µ–∫—Ç—Ä–æ–ø—Ä–∏–±–æ—Ä—ã, –∫–æ–≥–¥–∞ –æ–Ω–∏ –Ω–µ –Ω—É–∂–Ω—ã.
        7. –£—á–∞—Å—Ç–≤—É–π—Ç–µ –≤ –∞–∫—Ü–∏—è—Ö –ø–æ –æ—á–∏—Å—Ç–∫–µ –æ–∫—Ä—É–∂–∞—é—â–µ–π —Å—Ä–µ–¥—ã –∏ –≤—ã—Å–∞–∂–∏–≤–∞–π—Ç–µ –¥–µ—Ä–µ–≤—å—è.
        8. –°–ª–µ–¥–∏—Ç–µ –∑–∞ —Å–≤–æ–∏–º —É–≥–ª–µ—Ä–æ–¥–Ω—ã–º —Å–ª–µ–¥–æ–º –∏ —Å—Ç–∞—Ä–∞–π—Ç–µ—Å—å —É–º–µ–Ω—å—à–∞—Ç—å –µ–≥–æ.
        9. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ –¥–≤–∏–∂–µ–Ω–∏–µ –∑–∞ –∑–∞—â–∏—Ç—É –æ–∫—Ä—É–∂–∞—é—â–µ–π —Å—Ä–µ–¥—ã.
        10. –û–±—É—á–∞–π—Ç–µ –¥—Ä—É–≥–∏—Ö –æ –≤–∞–∂–Ω–æ—Å—Ç–∏ –æ—Ö—Ä–∞–Ω—ã –ø—Ä–∏—Ä–æ–¥—ã –∏ —É—Å—Ç–æ–π—á–∏–≤–æ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏—è.'''
    )
    await ctx.send(sovets)

@bot.command()
async def vic(ctx):
    points = 0
    await ctx.send("–í–æ–ø—Ä–æ—Å: –ö–∞–∫–æ–µ –≥–∞–∑–æ–æ–±—Ä–∞–∑–Ω–æ–µ –≤–µ—â–µ—Å—Ç–≤–æ —è–≤–ª—è–µ—Ç—Å—è –æ—Å–Ω–æ–≤–Ω—ã–º –ø–∞—Ä–Ω–∏–∫–æ–≤—ã–º –≥–∞–∑–æ–º? –ê–∑–æ—Ç/–£–≥–ª–µ–∫–∏—Å–ª—ã–π –≥–∞–∑/–í–æ–¥—è–Ω–æ–π –ø–∞—Ä/–ú–µ—Ç–∞–Ω")
    def check(m):
        return m.author == ctx.author and m.channel == ctx.channel
    try:
        msg = await bot.wait_for('message', check=check)

        if msg.content == '–£–≥–ª–µ–∫–∏—Å–ª—ã–π –≥–∞–∑':
            await ctx.send("–ü—Ä–∞–≤–∏–ª—å–Ω–æ! üéâ")
            points += 1
        else:
            await ctx.send("–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ! –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: —É–≥–ª–µ–∫–∏—Å–ª—ã–π –≥–∞–∑.")

    except:
        await ctx.send("–û—à–∏–±–∫–∞!")
    await ctx.send("–ö–∞–∫–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ —Å—á–∏—Ç–∞–µ—Ç—Å—è –æ–¥–Ω–∏–º –∏–∑ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ñ–∞–∫—Ç–æ—Ä–æ–≤ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–ª–∏–º–∞—Ç–∞? –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å–æ–ª–Ω–µ—á–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏/–õ–µ—Å–æ–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ/–í—ã–±—Ä–æ—Å—ã –ø–∞—Ä–Ω–∏–∫–æ–≤—ã—Ö –≥–∞–∑–æ–≤/–°–µ–ª—å—Å–∫–æ–µ —Ö–æ–∑—è–π—Å—Ç–≤–æ")
    def check(me):
        return me.author == ctx.author and me.channel == ctx.channel
    try:
        msg = await bot.wait_for('message', check=check)

        if msg.content == '–õ–µ—Å–æ–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ':
            await ctx.send("–ü—Ä–∞–≤–∏–ª—å–Ω–æ! üéâ")
            points += 1
        else:
            await ctx.send("–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ! –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: –ª–µ—Å–æ–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ.")
    except:
        await ctx.send("–û—à–∏–±–∫–∞!")
    await ctx.send("–ö–∞–∫–æ–µ –∏–∑ —Å–ª–µ–¥—É—é—â–∏—Ö —è–≤–ª–µ–Ω–∏–π —è–≤–ª—è–µ—Ç—Å—è —Å–ª–µ–¥—Å—Ç–≤–∏–µ–º –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –ø–æ—Ç–µ–ø–ª–µ–Ω–∏—è? –£–≤–µ–ª–∏—á–µ–Ω–∏–µ —á–∏—Å–ª–∞ —É—Ä–∞–≥–∞–Ω–æ–≤/–£–≤–µ–ª–∏—á–µ–Ω–∏–µ —á–∏—Å–ª–∞ –∑–µ–º–ª–µ—Ç—Ä—è—Å–µ–Ω–∏–π/–°–Ω–∏–∂–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è –º–æ—Ä—è/–ü–æ—è–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –≤–∏–¥–æ–≤")
    def check(me):
        return me.author == ctx.author and me.channel == ctx.channel
    try:
        msg = await bot.wait_for('message', check=check)

        if msg.content == '–£–≤–µ–ª–∏—á–µ–Ω–∏–µ —á–∏—Å–ª–∞ —É—Ä–∞–≥–∞–Ω–æ–≤':
            await ctx.send("–ü—Ä–∞–≤–∏–ª—å–Ω–æ! üéâ")
            points += 1
        else:
            await ctx.send("–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ! –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: —É–≤–µ–ª–∏—á–µ–Ω–∏–µ —á–∏—Å–ª–∞ —É—Ä–∞–≥–∞–Ω–æ–≤.")
    except:
        await ctx.send("–û—à–∏–±–∫–∞!")
    if points == 3:
        await ctx.send("**–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º, –≤—ã –æ—Ç–≤–µ—Ç–∏–ª–∏ –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ!**")
    if points == 2:
        await ctx.send("**–í—ã –æ—Ç–≤–µ—Ç–∏–ª–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞ –¥–≤–∞ –≤–æ–ø—Ä–æ—Å–∞, –Ω—É–∂–Ω–æ –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª!**")
    if points == 1:
        await ctx.send("**–í—ã –æ—Ç–≤–µ—Ç–∏–ª–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ç–æ–ª—å–∫–æ –Ω–∞ –æ–¥–∏–Ω –≤–æ–ø—Ä–æ—Å, –≤–∞–º –Ω—É–∂–Ω–æ –ø–æ–¥—É—á–∏—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª!**")
    if points == 0:
        await ctx.send("**–í—ã –æ—Ç–≤–µ—Ç–∏–ª–∏ –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ. –í–∞–º –Ω—É–∂–Ω–æ —Ö–æ—Ä–æ—à–æ –≤—ã—É—á–∏—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª!**")

@bot.command()
async def extr(ctx):
    await ctx.send(
        "*–≠–∫—Å—Ç—Ä–µ–Ω–Ω—ã–µ —Å–ª—É–∂–±—ã:*\n"
        " - *–°–∫–æ—Ä–∞—è –ø–æ–º–æ—â—å:* 103\n"
        " - *–ü–æ–ª–∏—Ü–∏—è:* 102\n"
        " - *–ü–æ–∂–∞—Ä–Ω–∞—è —Å–ª—É–∂–±–∞:* 101\n"
        " - *–ï–¥–∏–Ω—ã–π –Ω–æ–º–µ—Ä —Å–ø–∞—Å–µ–Ω–∏—è:* 112\n\n"
        
        "*–°–æ–≤–µ—Ç—ã –≤ —Å–ª—É—á–∞–µ —Å—Ç–∏—Ö–∏–π–Ω—ã—Ö –±–µ–¥—Å—Ç–≤–∏–π:*\n"
        " - *–ë—É–¥—å—Ç–µ –≥–æ—Ç–æ–≤—ã:* –•—Ä–∞–Ω–∏—Ç–µ –¥–æ–º–∞ –Ω–∞–±–æ—Ä –¥–ª—è –≤—ã–∂–∏–≤–∞–Ω–∏—è, –≤–∫–ª—é—á–∞—é—â–∏–π –≤–æ–¥—É, –µ–¥—É, –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç—ã, —Ñ–æ–Ω–∞—Ä–∏–∫, —Ä–∞–¥–∏–æ –∏ —Ç.–¥.\n"
        " - *–°–æ–±–ª—é–¥–∞–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏:* –°–ª—É—à–∞–π—Ç–µ —Ä–∞–¥–∏–æ –∏–ª–∏ —Ç–µ–ª–µ–≤–∏–¥–µ–Ω–∏–µ, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–∏ –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –æ—Ç –≤–ª–∞—Å—Ç–µ–π.\n"
        " - *–ë—É–¥—å—Ç–µ –æ—Å—Ç–æ—Ä–æ–∂–Ω—ã:* –ò–∑–±–µ–≥–∞–π—Ç–µ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–Ω—ã—Ö –∑–¥–∞–Ω–∏–π, –ø—Ä–æ–≤–æ–¥–æ–≤ –∏ –¥—Ä—É–≥–∏—Ö –æ–ø–∞—Å–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤.\n"
        " - *–ü–æ–º–æ–≥–∞–π—Ç–µ –¥—Ä—É–≥–∏–º:* –ï—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ, –æ–∫–∞–∑—ã–≤–∞–π—Ç–µ –ø–æ–º–æ—â—å –Ω—É–∂–¥–∞—é—â–∏–º—Å—è."
    )

continents = {
    "Africa": "https://www.wn.com/africa/climate-change",
    "Asia": "https://www.wn.com/asia/climate-change",
    "Europe": "https://www.wn.com/europe/climate-change",
    "North America": "https://www.wn.com/north-america/climate-change",
    "South America": "https://www.wn.com/south-america/climate-change",
    "Australia": "https://www.wn.com/australia/climate-change",
    "Antarctica": "https://www.wn.com/antarctica/climate-change" 
}

@bot.command()
async def climate(ctx):
    await ctx.send("–ò—â—É –Ω–æ–≤–æ—Å—Ç–∏ –æ –∫–ª–∏–º–∞—Ç–µ...")

    news_list = []
    for continent, url in continents.items():
        try:
            response = requests.get(url)
            response.raise_for_status()

            soup = BeautifulSoup(response.content, 'html.parser')
            article_elements = soup.find_all('h3', class_='article-title')

            if article_elements:
                article_title = article_elements[0].text.strip()
            else:
                article_title = "–ù–µ —É–¥–∞–ª–æ—Å—å –Ω–∞–π—Ç–∏ —Å—Ç–∞—Ç—å—é."

            news_list.append(f"{continent}: {article_title}\n")

        except requests.exceptions.RequestException as e:
            print(f"–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö —Å {continent}: {e}")
            news_list.append(f"{continent}: –ù–µ —É–¥–∞–ª–æ—Å—å –Ω–∞–π—Ç–∏ —Å—Ç–∞—Ç—å—é.\n")

    await ctx.send("".join(news_list))
